{% extends "layouts/main.html" %}

{% if data.hasErrors %}
  {% set pageName = 'You need to make changes to the data before you continue' %}
{% else %}
  {% set pageName = 'Check the data before you continue' %}
{% endif %}

{% block beforeContent %}
  {{ govukBackLink({
    text: "Back",
    href: "javascript:window.history.back()"
  }) }}
{% endblock %}

{% block content %}

  <div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">
      <h1 class="govuk-heading-l">
        {{pageName}}
      </h1>

      <h2 class="govuk-heading-m">
        Summary
      </h2>

      {{ govukSummaryList({
        rows: [
          {
            key: {
              text: "Data subject"
            },
            value: {
              text: data.check.dataSubject
            }
          },
          {
            key: {
              text: "Dataset"
            },
            value: {
              text: data.check.dataset
            }
          },
          {
            key: {
              text: "File name"
            },
            value: {
              text: "blah.csv"
            }
          },
          {
            key: {
              text: "Rows uploaded"
            },
            value: {
              text: "452"
            }
          },
          {
            key: {
              text: "Rows accepted"
            },
            value: {
              text: "253"
            }
          },
          {
            key: {
              text: "Rows removed"
            },
            value: {
              text: "199"
            }
          }
        ]
      }) }}

      <h2 class="govuk-heading-m">
        Errors that have been fixed automatically
      </h2>

      {{ govukSummaryList({
        rows: [
          {
            key: {
              text: "Date format"
            },
            value: {
              text: "405 rows had an incorrect date format. We changed the format to X."
            }
          },
          {
            key: {
              text: "Thing"
            },
            value: {
              text: "Detail"
            }
          }
        ]
      }) }}

      <p>We recommend changing your data to follow the corrections made above.</p>

      {% if data.hasErrors %}

        <h2 class="govuk-heading-m">
          Errors that you need to fix
        </h2>

        {{ govukSummaryList({
          rows: [
            {
              key: {
                text: "21 areas provided fall outside of England"
              },
              value: {
                text: "Only areas in England is acceptable"
              }
            },
            {
              key: {
                text: "3 entry dates are in the future"
              },
              value: {
                text: "Entry dates must be today or in the past"
              }
            }
          ]
        }) }}

      {% endif %}

  </div>
</div>

<div class="govuk-grid-row">
  <div class="govuk-grid-column-full">

      <h2 class="govuk-heading-m">
        Records
      </h2>

      <div class="app-scrollable-container">
        {{ govukTable({
  head: [
    {
      text: "Row Number"
    },
    {
      text: "Site Reference"
    },
    {
      text: "Site Name"
    },
    {
      text: "GeoX"
    },
    {
      text: "GeoY"
    },
    {
      text: "Hectares"
    },
    {
      text: "Last Updated Date"
    },
    {
      text: "Created Date"
    },
    {
      text: "Organisation URI"
    },
    {
      text: "Site Plan"
    }
  ],
  rows: [
    [
      {
        text: "1"
      },
      {
        text: "AB1234"
      },
      {
        text: "123 Main St, City, Country"
      },
      {
        text: "42.123456"
      },
      {
        text: "-71.987654"
      },
      {
        text: "3.5"
      },
      {
        text: "19 September 2023"
      },
      {
        text: "19 September 2023"
      },
      {
        text: "http://example.com/org1"
      },
      {
        text: "http://example.com/siteplan1"
      }
    ],
    [
      {
        text: "2"
      },
      {
        text: "CD5678"
      },
      {
        text: "456 Elm St, Town, Country"
      },
      {
        text: "38.987654"
      },
      {
        text: "-84.123456"
      },
      {
        text: "2.2"
      },
      {
        text: "20 September 2023"
      },
      {
        text: "18 September 2023"
      },
      {
        text: "http://example.com/org2"
      },
      {
        text: "http://example.com/siteplan2"
      }
    ],
    [
      {
        text: "3"
      },
      {
        text: "CD5678"
      },
      {
        text: "456 Elm St, Town, Country"
      },
      {
        text: "38.987654"
      },
      {
        text: "-84.123456"
      },
      {
        text: "2.2"
      },
      {
        text: "20 September 2023"
      },
      {
        text: "18 September 2023"
      },
      {
        text: "http://example.com/org2"
      },
      {
        text: "http://example.com/siteplan2"
      }
    ],
    [
      {
        text: "4"
      },
      {
        text: "CD5678"
      },
      {
        text: "456 Elm St, Town, Country"
      },
      {
        text: "38.987654"
      },
      {
        text: "-84.123456"
      },
      {
        text: "2.2"
      },
      {
        text: "20 September 2023"
      },
      {
        text: "18 September 2023"
      },
      {
        text: "http://example.com/org2"
      },
      {
        text: "http://example.com/siteplan2"
      }
    ],
    [
      {
        text: "5"
      },
      {
        text: "CD5678"
      },
      {
        text: "456 Elm St, Town, Country"
      },
      {
        text: "38.987654"
      },
      {
        text: "-84.123456"
      },
      {
        text: "2.2"
      },
      {
        text: "20 September 2023"
      },
      {
        text: "18 September 2023"
      },
      {
        text: "http://example.com/org2"
      },
      {
        text: "http://example.com/siteplan2"
      }
    ],
    [
      {
        text: "6"
      },
      {
        text: "CD5678"
      },
      {
        text: "456 Elm St, Town, Country"
      },
      {
        text: "38.987654"
      },
      {
        text: "-84.123456"
      },
      {
        text: "2.2"
      },
      {
        text: "20 September 2023"
      },
      {
        text: "18 September 2023"
      },
      {
        text: "http://example.com/org2"
      },
      {
        text: "http://example.com/siteplan2"
      }
    ],
    [
      {
        text: "7"
      },
      {
        text: "CD5678"
      },
      {
        text: "456 Elm St, Town, Country"
      },
      {
        text: "38.987654"
      },
      {
        text: "-84.123456"
      },
      {
        text: "2.2"
      },
      {
        text: "20 September 2023"
      },
      {
        text: "18 September 2023"
      },
      {
        text: "http://example.com/org2"
      },
      {
        text: "http://example.com/siteplan2"
      }
    ]
  ]
}) }}

      </div>

  </div>
</div>

<div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">
      {% if data.hasErrors %}
        <p>After you fix your data, <a href="/upload">upload the new version of your dataset</a>.</p>
      {% else %}
        <form novalidate method="post">
          {{ govukButton({
            text: "Continue"
          }) }}
        </form>
      {% endif %}

    </div>
  </div>
{% endblock %}
